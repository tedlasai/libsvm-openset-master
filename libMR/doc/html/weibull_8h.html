<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml">
<head>
<meta http-equiv="Content-Type" content="text/xhtml;charset=UTF-8"/>
<title>libMR: weibull.h File Reference</title>

<link href="tabs.css" rel="stylesheet" type="text/css"/>
<link href="doxygen.css" rel="stylesheet" type="text/css" />



</head>
<body>
<div id="top"><!-- do not remove this div! -->


<div id="titlearea">
<table cellspacing="0" cellpadding="0">
 <tbody>
 <tr style="height: 56px;">
  
  
  <td style="padding-left: 0.5em;">
   <div id="projectname">libMR
   &#160;<span id="projectnumber">0.1</span>
   </div>
   
  </td>
  
  
  
 </tr>
 </tbody>
</table>
</div>

<!-- Generated by Doxygen 1.7.5.1 -->
  <div id="navrow1" class="tabs">
    <ul class="tablist">
      <li><a href="index.html"><span>Main&#160;Page</span></a></li>
      <li><a href="annotated.html"><span>Classes</span></a></li>
      <li class="current"><a href="files.html"><span>Files</span></a></li>
    </ul>
  </div>
  <div id="navrow2" class="tabs2">
    <ul class="tablist">
      <li><a href="files.html"><span>File&#160;List</span></a></li>
      <li><a href="globals.html"><span>File&#160;Members</span></a></li>
    </ul>
  </div>
</div>
<div class="header">
  <div class="summary">
<a href="#func-members">Functions</a>  </div>
  <div class="headertitle">
<div class="title">weibull.h File Reference</div>  </div>
</div>
<div class="contents">
<div class="textblock"><div class="dynheader">
This graph shows which files directly or indirectly include this file:</div>
<div class="dyncontent">
<div class="center"><img src="weibull_8h__dep__incl.png" border="0" usemap="#weibull_8hdep" alt=""/></div>
<map name="weibull_8hdep" id="weibull_8hdep">
<area shape="rect" id="node3" href="MetaRecognition_8h_source.html" title="MetaRecognition.h" alt="" coords="5,80,144,107"/></map>
</div>
</div>
<p><a href="weibull_8h_source.html">Go to the source code of this file.</a></p>
<table class="memberdecls">
<tr><td colspan="2"><h2><a name="func-members"></a>
Functions</h2></td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="weibull_8h.html#a5676fa7821d22c891641b5ae750edbb7">weibull_cdf</a> (double x, double scale, double shape)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">double&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="weibull_8h.html#a10654c6de021f056fa213203a6c0d0cb">weibull_inv</a> (double x, double scale, double shape)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">int&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="weibull_8h.html#ae45643de52e8682e9a4ae59ec6d77c42">weibull_fit</a> (double *weibullparms, double *wparm_confidenceintervals, double *inputData, double alpha, int size)</td></tr>
<tr><td class="memItemLeft" align="right" valign="top">void&#160;</td><td class="memItemRight" valign="bottom"><a class="el" href="weibull_8h.html#a6008cac4d8de6e6ea3404c70db4f05d0">printWeibullBuildInfo</a> (FILE *fh)</td></tr>
</table>
<hr/><a name="details" id="details"></a><h2>Detailed Description</h2>
<div class="textblock"><p><a class="el" href="weibull_8h.html">weibull.h</a> provides the headers for the core functionality for computing weibull fittings, as well as CDF and INF given parms</p>
<p>Author Brian Heflin bheflin at securics com Author Walter Scheirer walter at securics com Author Terry Boult tboult at securics com</p>
<p>Copyright 2010, 2011, Securics Inc.</p>
<h2><a class="anchor" id="LICENSE"></a>
LICENSE</h2>
<p>See accompanying LICENSE agrement for full details on rights.</p>
<p>Parts of this technology are subject to SBIR data rights and as described in DFARS 252.227-7018 (June 1995) SBIR Data Rights which apply to Contract Number: N00014-11-C-0243 and STTR N00014-07-M-0421 to Securics Inc, 1870 Austin Bluffs Parkway, Colorado Springs, CO 80918</p>
<p>The Government's rights to use, modify, reproduce, release, perform, display, or disclose technical data or computer software marked with this legend are restricted during the period shown as provided in paragraph (b)(4) of the Rights in Noncommercial Technical Data and Computer Software-Small Business Innovative Research (SBIR) Program clause contained in the above identified contract. Expiration of SBIR Data Rights: Expires four years after completion of the above cited project work for this or any other follow-on SBIR contract, whichever is later.</p>
<p>No restrictions on government use apply after the expiration date shown above. Any reproduction of technical data, computer software, or portions thereof marked with this legend must also reproduce the markings.</p>
<h2><a class="anchor" id="Summary"></a>
Description</h2>
<p>This file contains the "C" interface functions for very basic weilbull usage for Meta-Recognition. The wlbfit and wlbcdf are the primary functions to use.</p>
<p>The code herein has a number of STRONG assumptions you must follow as we cannot test for all of them. 1) All fitting and testing are presuming "larger is better", If you are fitting something where smaller is better you need to transform it. 2) All data is positive (okay we can and do test for that, but better to know upfront what you are doing) 3) There must be sufficient range in your data to actually fit the weilbull. If all the data is the same, or nearly the same, it may fail to converge and will report errors. </p>
</div><hr/><h2>Function Documentation</h2>
<a class="anchor" id="a6008cac4d8de6e6ea3404c70db4f05d0"></a><!-- doxytag: member="weibull.h::printWeibullBuildInfo" ref="a6008cac4d8de6e6ea3404c70db4f05d0" args="(FILE *fh)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">void printWeibullBuildInfo </td>
          <td>(</td>
          <td class="paramtype">FILE *&#160;</td>
          <td class="paramname"><em>fh</em></td><td>)</td>
          <td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>Print information about this build to a file descriptor. Used for checking what is loaded for supporting people </p>

</div>
</div>
<a class="anchor" id="a5676fa7821d22c891641b5ae750edbb7"></a><!-- doxytag: member="weibull.h::weibull_cdf" ref="a5676fa7821d22c891641b5ae750edbb7" args="(double x, double scale, double shape)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double weibull_cdf </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>shape</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>if WEIBULL_USE_ASSERTS is defined, the code will use asserts to ensure its requirements are true, otherwise it returns error codes. Default is not defined if WEIBULL_IGNORE_ERRORS is defined, the code will just presume things will work out and not waste time on testing for error. Default is not defined weibull_cdf computes the probability (given our assumptions) that the value x is an outlier ABOVE the fit distribution. if the distribution was non-match data, then it provides this probability that x is a match score. If data was match-data then it would be the probability of it being a larger non-match. computes </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ 1-e^{{\frac{x}{scale}}^{shape}} \]" src="form_2.png"/>
</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>the location at which to compute the probability of being an outlier </td></tr>
    <tr><td class="paramname">scale</td><td>the scale parmaeter of the weibull. This is the first element in weibull_parms (as computed by our wlbfit) </td></tr>
    <tr><td class="paramname">shape</td><td>the scale parmaeter of the weibull. This is the first second in weibull_parms (as computed by our wlbfit) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>if in the range [0-1] it is the probability of X being an outlier. Any value &lt; 0 is an error code. returns -1 for invalid scale &lt;=0 , -2 for invalid shape &lt;=0 </dd></dl>

</div>
</div>
<a class="anchor" id="ae45643de52e8682e9a4ae59ec6d77c42"></a><!-- doxytag: member="weibull.h::weibull_fit" ref="ae45643de52e8682e9a4ae59ec6d77c42" args="(double *weibullparms, double *wparm_confidenceintervals, double *inputData, double alpha, int size)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">int weibull_fit </td>
          <td>(</td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>weibullparms</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>wparm_confidenceintervals</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double *&#160;</td>
          <td class="paramname"><em>inputData</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>alpha</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">int&#160;</td>
          <td class="paramname"><em>size</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>weibull_fit does a maximum likelihood fitting to estimate the shape and scale parameters of a weibull probability distributon </p>
<p class="formulaDsp">
<img class="formulaDsp" alt="\[ \frac{shape}{scale} \left(\frac{x}{scale} \cdot e^{-{\left(\frac{x}{scale}\right)}^{shape}}\right)\]" src="form_5.png"/>
</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">weibull_parms</td><td>is an array of 2 doubles, which must be preallocated. On successful completeion it will have shape and scale respectively. </td></tr>
    <tr><td class="paramname">wparm_confidenceintervals</td><td>is an array of 4 doubles, which must be preallocated. On successful completeion it will have confidence interval for shape in the first two item and the CI for scale in the second two items </td></tr>
    <tr><td class="paramname">inputData</td><td>is a pointer the data to use for fitting the distribution. It must have at least size elements </td></tr>
    <tr><td class="paramname">size</td><td>is the size of the data to be used for fitting. </td></tr>
    <tr><td class="paramname">alpha</td><td>is parameter for Confidence interval size estimation. </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>return should be 1 if all went well. Values &lt; 0 imply errors in fitting or data. -1 means some data was negative, -2 means bad data range (e.g. all the same) -3 or lower means MLE did not converge. </dd></dl>

</div>
</div>
<a class="anchor" id="a10654c6de021f056fa213203a6c0d0cb"></a><!-- doxytag: member="weibull.h::weibull_inv" ref="a10654c6de021f056fa213203a6c0d0cb" args="(double x, double scale, double shape)" -->
<div class="memitem">
<div class="memproto">
      <table class="memname">
        <tr>
          <td class="memname">double weibull_inv </td>
          <td>(</td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>x</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>scale</em>, </td>
        </tr>
        <tr>
          <td class="paramkey"></td>
          <td></td>
          <td class="paramtype">double&#160;</td>
          <td class="paramname"><em>shape</em>&#160;</td>
        </tr>
        <tr>
          <td></td>
          <td>)</td>
          <td></td><td></td>
        </tr>
      </table>
</div>
<div class="memdoc">
<p>weibull_inv computes the inverse weibull, i.e. returns the score S (given our assumptions) such that x=wlbcdf(s,scale,shape). Note it estimates from above, so if x=1.0 expect an answer of Inf (infinity).</p>
<dl><dt><b>Parameters:</b></dt><dd>
  <table class="params">
    <tr><td class="paramname">x</td><td>the location at which you compute the inverse (must be between [0,1] </td></tr>
    <tr><td class="paramname">scale</td><td>the scale parmaeter of the weibull. This is the first element in weibull_parms (as computed by our wlbfit) </td></tr>
    <tr><td class="paramname">shape</td><td>the scale parmaeter of the weibull. This is the first second in weibull_parms (as computed by our wlbfit) </td></tr>
  </table>
  </dd>
</dl>
<dl class="return"><dt><b>Returns:</b></dt><dd>if X in the range [0-1], return S such that x=wlbcdf(s,scale,shape). The return value is in the range [0,Inf]. Any return value &lt; 0 is an error code. returns -1 for invalid scale &lt;=0 , -2 for invalid shape &lt;=0 -3 for X&lt;0, -4 for x &gt;1 </dd></dl>

</div>
</div>
</div>


<hr class="footer"/><address class="footer"><small>
Generated on Mon Jun 4 2012 22:35:17 for libMR by &#160;<a href="http://www.doxygen.org/index.html">
<img class="footer" src="doxygen.png" alt="doxygen"/>
</a> 1.7.5.1
</small></address>

</body>
</html>
